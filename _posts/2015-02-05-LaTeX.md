---
title: LaTeX
layout: post
---
1. TeX 源文件包含两个部分：文稿内容和排版控制命令。文稿内容就是我们要写的内容，文字、图片、表格、公式及整个文章的章节段落结构等；排版命令如同CSS控制HTML显示一样，控制样式、字体、分页等呈现的。
2. 排版控制命令以`\`开始：

        \命令名[可省略的参数]{不可省略的参数}
3. 排版控制命令 `\begin{document}` 与 `\end{document}` 表示文稿内容的起始与终止。在 `\documentclass` 与 `\begin{document}` 之间的区域称为*导言区 preamble*，可在此区域内放置一些可影响文档整体排版样式的控制命令。
4. XeTeX 项目解决了 TeX 国际化的问题，而我们要解决 XeTeX 本地化问题，因此要使用 XeTeX 排出符合中文习惯的文章，就需要熟悉一些 XeTeX / LaTeX 宏包与排版控制命令。
5. CTeX XeCJK fontspec

    *CTeX* 依赖 *XeCJK* 依赖 *fontspec*，一个比一个底层。

    *CTeX* 管中文格式；*XeCJK* 管中西文字体自动切换、中文标点压缩；*fontspec* 管任意字体选择。

    三者中的任何一种都可以直接处理中文排版，但是越底层，越困难，用户需要了解的命令就越多，关键是用户自己设置的格式还不一定美观，所以一般都用 CTeX。
6. 宋、仿宋都可以看作是衬线字体，而楷体、黑体、幼圆可以看作是非衬线字体。
### Code by *fontspec*
加载 *fontspec* 宏包后，使用其提供的 `\setmainfont` 命令可设定文稿正文中的中文字体。

```tex
\documentclass[11pt,a4paper,portrait]{article}

\usepackage{fontspec}
% \setmainfont{Microsoft YaHei}
\setromanfont{Microsoft YaHei}
\setsansfont[BoldFont=FandolHei]{KaiTi}
\setmonofont{DejaVu Sans Mono}
\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt minus 0.1pt

\usepackage[top=1in,bottom=1in,left=1.2in,right=1in]{geometry}

\begin{document}
世界，你好！

下面讲一下 'setmainfont' 与 'setsansfont' 指令中的可省略参数 'BoldFont' 的用法，这个参数是用来指定衬线与非衬线字体在粗体( bold )状态下所使用的字体，这是因为字体可以在常态下经“加粗”后所得到的实际上是另一种字体。对于任意一款计算机字体而言，它不是一个你想怎么变就可以怎么变的东西，如果一款字体在设计的时候就不是粗体，那么是不可能把它变成粗体的，只有用一种设计好的粗体去替换。虽然有一些办法可以让一些字体经过微量平移并叠合后可以得到类似“粗体”的效果，但那是“穷人的粗体”，显示效果很差的。所以，我们不应该把你正在用的这个“宋体”变成“粗”宋体，而必须去找专门的粗宋体来用。如果找不到粗宋体，那就用黑体来代替，本文的排版就是这么做的，'Adobe Heiti Std' 来作为衬线与非衬线的粗体。
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
```

其中`\setmainfont` 设置 衬线 字体，因为 *XeTeX* 默认用是的是 衬线 字体；`\setsansfont`设置 反衬线 字体；`\setmonofont`设置的是 等宽 字体。

*fontspec* 提供了一个与 `\setmainfont` 等价的命令 `\setromanfont`，这完全是历史缘故，因为以大部分西方人把 Roman 字体当文章正统字体。

下面讲一下 `\setmainfont` 与 `\setsansfont` 指令中的可省略参数 *BoldFont* 的用法，这个参数是用来指定衬线与非衬线字体在粗体( bold )状态下所使用的字体，这是因为字体可以在常态下经“加粗”后所得到的实际上是另一种字体。对于任意一款计算机字体而言，它不是一个你想怎么变就可以怎么变的东西，如果一款字体在设计的时候就不是粗体，那么是不可能把它变成粗体的，只有用一种设计好的粗体去替换。虽然有一些办法可以让一些字体经过微量平移并叠合后可以得到类似“粗体”的效果，但那是“穷人的粗体”，显示效果很差的。所以，我们不应该把你正在用的这个“宋体”变成“粗”宋体，而必须去找专门的粗宋体来用。如果找不到粗宋体，那就用黑体来代替，本文的排版就是这么做的，采用 *Adobe Heiti Std* 来作为衬线与非衬线的粗体。

### Code by general *article* class, with *CTeX* package.

{% highlight TeX linenos %}

\documentclass{article}
\usepackage{ctex}
\begin{document}
这是我的第一篇中文排版文件。
\end{document}

{% endhighlight %}

###  Code by *ctexart* class.

{% highlight TeX linenos %}

\documentclass{ctexart}

\begin{document}

\title{\LaTeX~中文文档模板}
\author{作者}

\maketitle
\tableofcontents

\section{前言}

朱镕基，你好，CTeX~文档类。

\section{正文}

世界你好！

\section{后记}

非常好！

\end{document}

{% endhighlight %}

### Refs
1. [Emacs + LaTeX 快速上手](http://cs2.swfc.edu.cn/~wx672/lecture_notes/linux/latex/latex_tutorial.html).
2. [emacs-as-the-ultimate-latex-editor](http://piotrkazmierczak.com/2010/emacs-as-the-ultimate-latex-editor/)
